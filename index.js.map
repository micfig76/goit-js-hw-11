{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { comma } from 'postcss/lib/list';\n\nconst myApiKey = '35720970-632b5595f4a574f3205602e3c';\n\nconst ligthbox = new SimpleLightbox('.gallery a#lightbox-link');\n\ndocument\n  .querySelector('form#image-search')\n  .addEventListener('submit', async event => {\n    event.prventDefault();\n\n    const form = event.target;\n    const searchQuery = form.elements['query'].value;\n    form.reset();\n    const gallery = document.querySelector('.gallery');\n    gallery.replaceChildren(createLoader());\n\n    const photosData = await getPhotos(searchQuery).catch(error => {\n      iziToast.error({\n        message: 'Sorry, the images can`t be loaded. Please try again later',\n        position: 'topRight',\n      });\n      console.log(error);\n      gallery.replaceChildren();\n    });\n\n    if (photosData.hits.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search. Please try again later',\n        position: 'topRight',\n      });\n      gallery.replaceChildren();\n      return;\n    }\n      const postCards = photosData.hits\n      .map(toGalleryPhoto)\n      .map(createCard)\n      .map(applyLightbox);\n\n      gallery.replaceChildren(...photoCards);\n      ligthbox.refresh();\n      });\n\nconst getPhotos = async searchQuery => {\n  const params = new URLSearchParams({\n    key: myApiKey,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`).then(response =>\n    response.json()\n  );\n};\n\nconst toGalleryPhoto = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n});\n\n"],"names":["myApiKey","ligthbox","SimpleLightbox","event","form","searchQuery","gallery","photosData","getPhotos","error","iziToast","toGalleryPhoto","params","response","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"iyBAOA,MAAMA,EAAW,qCAEXC,EAAW,IAAIC,EAAe,0BAA0B,EAE9D,SACG,cAAc,mBAAmB,EACjC,iBAAiB,SAAU,MAAMC,GAAS,CACzCA,EAAM,cAAa,EAEnB,MAAMC,EAAOD,EAAM,OACbE,EAAcD,EAAK,SAAS,MAAS,MAC3CA,EAAK,MAAK,EACV,MAAME,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,gBAAgB,aAAY,CAAE,EAEtC,MAAMC,EAAa,MAAMC,EAAUH,CAAW,EAAE,MAAMI,GAAS,CAC7DC,EAAS,MAAM,CACb,QAAS,4DACT,SAAU,UAClB,CAAO,EACD,QAAQ,IAAID,CAAK,EACjBH,EAAQ,gBAAe,CAC7B,CAAK,EAED,GAAIC,EAAW,KAAK,SAAW,EAAG,CAChCG,EAAS,MAAM,CACb,QACE,0EACF,SAAU,UAClB,CAAO,EACDJ,EAAQ,gBAAe,EACvB,MACD,CACmBC,EAAW,KAC5B,IAAII,CAAc,EAClB,IAAI,UAAU,EACd,IAAI,aAAa,EAElBL,EAAQ,gBAAgB,GAAG,UAAU,EACrCL,EAAS,QAAO,CACtB,CAAO,EAEP,MAAMO,EAAY,MAAMH,GAAe,CACrC,MAAMO,EAAS,IAAI,gBAAgB,CACjC,IAAKZ,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BO,CAAM,EAAE,EAAE,KAAKC,GACtDA,EAAS,KAAM,CACnB,CACA,EAEMF,EAAiB,CAAC,CACtB,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,KAAO,CACL,aAAAN,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF"}