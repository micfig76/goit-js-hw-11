import{S as m,i as d}from"./vendor-DTCA4MIo.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const p="35720970-632b5595f4a574f3205602e3c",l=new m(".gallery a#lightbox-link");document.querySelector("form#image-search").addEventListener("submit",async a=>{a.preventDefault();const r=a.target,o=r.elements.query.value;r.reset();const n=document.querySelector(".gallery");n.replaceChildren(S());const e=await h(o).catch(s=>{d.error({message:"Sorry, the images can`t be loaded. Please try again later",position:"topRight"}),console.log(s),n.replaceChildren()});if(e.hits.length===0){d.error({message:"Sorry, there are no images matching your search. Please try again later",position:"topRight"}),n.replaceChildren();return}const t=e.hits.map(y).map(f).map(g);n.replaceChildren(...t),l.refresh()});const h=async a=>{const r=new URLSearchParams({key:p,q:a,image_type:"photo",orientation:"horizontal",safesearch:!0});return fetch(`https://pixabay.com/api/?${r}`).then(o=>o.json())},y=({webformatURL:a,largeImageURL:r,tags:o,likes:n,views:e,comments:t,downloads:s})=>({webformatURL:a,largeImageURL:r,tags:o,likes:n,views:e,comments:t,downloads:s}),f=({webformatURL:a,largeImageURL:r,tags:o,likes:n,comments:e,downloads:t})=>{const s=document.querySelector("template#card-template"),c=document.importNode(s.textContent,!0),u=c.querySelector("a#lightbox-link");u.href=r;const i=c.querySelector("img.card-img");return i.src=a,i.alt=o,i.title=o,c.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=n,c.querySelector('span.card-stats-item-count[data-item="views"]').textContent=views,c.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=e,c.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=t,c},g=a=>(a.querySelector("a#lightbox-link").addEventListener("click",r=>{r.preventDefault();const o=n=>{n.key==="Escape"&&(document.removeEventListener("keydown",o),l.close())};document.addEventListener("keydown",o),l.open(r.currentTarget)}),a),S=()=>Object.assign(document.createElement("div"),{className:"loader"});
//# sourceMappingURL=main-B7XnnG1g.js.map
